---
id: p-680e
status: closed
deps: []
links: []
created: 2026-02-13T05:31:15Z
type: task
priority: 2
assignee: delphi-hashline
tags: [team]
---
# Search the web for the original implementation of 'hashline' editing tools for AI coding agents. We know it comes from can1357/oh-my-pi (GitHub). Find:
1. The original repo and hashline implementation
2. How hashline works (line:hash anchoring for safe edits)
3. Any blog posts or discussions about it
4. Whether other projects adopted it

Use web_search_exa and get_code_context_exa to find the original source. Try searches like 'can1357 oh-my-pi hashline', 'hashline editing tool AI coding', 'oh-my-pi github hash_read hash_edit'.

Search the web for the original implementation of 'hashline' editing tools for AI coding agents. We know it comes from can1357/oh-my-pi (GitHub). Find:
1. The original repo and hashline implementation
2. How hashline works (line:hash anchoring for safe edits)
3. Any blog posts or discussions about it
4. Whether other projects adopted it

Use web_search_exa and get_code_context_exa to find the original source. Try searches like 'can1357 oh-my-pi hashline', 'hashline editing tool AI coding', 'oh-my-pi github hash_read hash_edit'.


## Notes

**2026-02-13T05:32:22Z**

DONE: Research complete. Here are the findings:

## 1. Original Repo and Implementation
- **Repo**: [can1357/oh-my-pi](https://github.com/can1357/oh-my-pi) — a fork of badlogic/pi-mono by Can Bölük (@_can1357)
- 82 stars, TypeScript/Rust, MIT license
- Can authored ~1,300 commits on this fork, adding incremental improvements including hashline

## 2. How Hashline Works
Hashline is a file editing approach for AI coding agents using **line:hash anchoring**:
- When a model reads a file (via `hash_read`), every line is prefixed with a short content hash: `11:a3|function hello() {`
- When editing (via `hash_edit`), the model references these tags as anchors: 'replace line 2:f1', 'replace range 1:a3 through 3:0e', 'insert after 3:0e'
- If the file changed since last read, hashes won't match → edit rejected before corruption
- Key insight: model doesn't need to reproduce old content verbatim (unlike str_replace). A 2-3 char hash serves as a stable, verifiable identifier

## 3. Blog Post
- **"I Improved 15 LLMs at Coding in One Afternoon. Only the Harness Changed."** by Can Bölük (Feb 12, 2026): https://blog.can.ac/2026/02/12/the-harness-problem/
- Also on HN front page (197 points, 85 comments): https://news.ycombinator.com/item?id=46988596
- The post argues the harness (not the model) is the bottleneck, compares edit approaches (apply_patch, str_replace, Cursor's neural apply, aider diffs), and shows hashline matches or beats all
- Benchmark: 16 models, 3 edit tools, 180 tasks × 3 runs. Grok Code Fast 1 went from 6.7% → 68.3% (10x improvement). Gemini gained +8%. Output tokens dropped ~20-61%
- Benchmark code at: https://github.com/can1357/oh-my-pi/tree/main/packages/react-edit-benchmark

## 4. Adoption by Other Projects
- **OpenCode** (anomalyco/opencode, 104k stars): Has an open feature request [#13393] and an in-progress PR [#13405] titled 'feat(hashline): add hashline edit tool with experimental flags' by @watzon, both opened Feb 12-13, 2026 — immediate adoption attempt
- **pi (this project)**: Already has hashline tools built in (hash_read, hash_edit)
- HN commenters noted similar approaches (e.g., tree-sitter node hashing in Emacs)
- The blog post went viral same day, suggesting broad community interest
