---
id: p-284c
status: closed
deps: []
links: []
created: 2026-02-13T05:44:55Z
type: task
priority: 2
assignee: wizard-reviewer
tags: [team]
---
# Read extensions/defaults/commands/project-init/ — all files. Summarize the full wizard flow and identify any UX issues or dead code.

Read extensions/defaults/commands/project-init/ — all files. Summarize the full wizard flow and identify any UX issues or dead code.


## Notes

**2026-02-13T05:45:53Z**

DONE: Full review complete.

## Wizard Flow Summary

5 modules compose the /project:init wizard:

1. **catalog.ts** — Scans catalog dirs for skills (SKILL.md) and packages (package.json with pi key). Configurable depth, deduplicates by type+name.
2. **scanner.ts** — Detects project stack from manifest files (package.json, Cargo.toml, go.mod, etc.).
3. **installer.ts** — Persists selections to .pi/settings.json.
4. **wizard.ts** — TUI multi-select: loading phase → interactive list with fuzzy search, scout recommendations, package→skill locking. Ctrl+S=apply, Esc=cancel.
5. **agents-prompt.ts** — Builds prompt for AGENTS.md generation.

## UX Issues

1. **Gemfile always implies Rails** — scanner.ts unconditionally adds Rails for any Gemfile. Many Ruby projects don't use Rails.
2. **No Enter to apply** — Only Ctrl+S works; Enter would be more intuitive.
3. **Ctrl+C not in footer hints** — It clears search or cancels, but isn't documented in the footer.
4. **Selection count goes stale** — The header counter only updates on rebuild() (resize), not on toggle via updateList().
5. **Scout timeout silent** — 60s timeout resolves null with no notification to user.
6. **Cursor wrap scroll jump** — Up from first item to last may leave scroll in odd position.

## Dead Code

1. **DynamicBorder in constructor** — Added as child but immediately discarded by first rebuild() call. Wasted allocation.

No major dead code otherwise — all exports and functions are used.
